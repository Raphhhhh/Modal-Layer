class t{constructor(t={}){this.contentStyle="",this.contentHTML="",this.height=t.height||"365px",this.width=t.width||"600px",this.closeButtonContent=t.closeButtonContent||"X",this.customCss=t.customCss||"",this.modalId="TokyChannelWidgetPopupId-"+Date.now(),this.defineStyles(),this.createModal(),this.injectStyles(),this.injectModalElements()}defineStyles(){this.modalStyle=`.TokyChannelWidgetPopup-modal { height: ${this.height}; width: ${this.width}; background-color: #fff; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); padding: 0px; opacity: 0; pointer-events: none; transition: all 300ms ease-in-out; z-index: 1011; }`,this.modalStyleVisible=".TokyChannelWidgetPopup-modal-visible { opacity: 1; pointer-events: auto; }",this.modalStyleClose=".TokyChannelWidgetPopup-modal-closeBtn { position: absolute; font-size: 1.2rem; right: -20px; top: -20px; cursor: pointer;  font-size:bold; border-radius:50%; color: white; }","100%"!==this.width&&"100%"!==this.height||(this.modalStyleClose+=".TokyChannelWidgetPopup-modal-closeBtn {right: 5px; top: 5px; color: black;}"),this.blackedout=".TokyChannelWidgetPopup-blackedout { position: absolute; z-index: 1010; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.65); display: none; }",this.blackedoutVisible=`.TokyChannelWidgetPopup-blackedout-visible { display: block; height:${document.body.clientHeight}px }`}createModal(){this.modalHTML=document.createElement("div"),this.modalHTML.id=this.modalId,this.modalHTML.dataset.popupModal="one",this.modalHTML.classList.add("TokyChannelWidgetPopup-modal"),this.modalHTML.classList.add("TokyChannelWidgetPopup-shadow"),this.bodyBlackedout=document.createElement("div"),this.bodyBlackedout.classList.add("TokyChannelWidgetPopup-blackedout")}injectStyles(){this.defineStyles();let t=document.getElementById("TokyChannelWidgetPopupStyles");t||(t=document.createElement("style"),t.setAttribute("id","TokyChannelWidgetPopupStyles"),t.setAttribute("type","text/css"),t.innerHTML=this.modalStyle+this.modalStyleVisible+this.blackedout+this.blackedoutVisible,document.getElementsByTagName("head")[0].appendChild(t))}injectModalElements(){document.body.appendChild(this.bodyBlackedout),document.body.appendChild(this.modalHTML),this.modalHTML.attachShadow({mode:"open"})}injectModalContent(){this.bodyBlackedout.style.height=document.documentElement.clientHeight,this.modalHTML.style.top=`calc(${window.scrollY}px + 50%)`,this.modalHTML.shadowRoot.innerHTML=`\n      <style>\n        ${this.modalStyleClose}\n        ${this.contentStyle}\n        ${this.customCss}\n      </style>\n      <span class="TokyChannelWidgetPopup-modal-closeBtn">${this.closeButtonContent}</span>\n      <div id="TokyChannelWidgetPopup-modal-content">${this.contentHTML}</div>\n    `}getElementById(t){return this.modalHTML.shadowRoot.getElementById(t)}hideModal(){this.modalHTML.classList.remove("TokyChannelWidgetPopup-modal-visible"),this.bodyBlackedout.classList.remove("TokyChannelWidgetPopup-blackedout-visible"),document.querySelector(".TokyChannelWidgetPopup-blackedout").removeEventListener("click",this.hideModal),this.modalHTML.shadowRoot.querySelector(".TokyChannelWidgetPopup-modal-closeBtn").removeEventListener("click",this.hideModal)}openModal(){this.modalHTML.classList.add("TokyChannelWidgetPopup-modal-visible"),this.bodyBlackedout.classList.add("TokyChannelWidgetPopup-blackedout-visible"),this.injectModalContent(),this.modalHTML.shadowRoot.querySelector(".TokyChannelWidgetPopup-modal-closeBtn").addEventListener("click",this.hideModal.bind(this)),document.querySelector(".TokyChannelWidgetPopup-blackedout").addEventListener("click",this.hideModal.bind(this))}}export{t as ModalLayer};
//# sourceMappingURL=ModalLayer.min.js.map
