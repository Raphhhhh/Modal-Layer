{"version":3,"file":"ModalLayer.min.js","sources":["../ModalLayer.js"],"sourcesContent":["export class ModalLayer {\n  constructor() {\n    this.modalId = `Modal-${Date.now()}`;\n\n    this.contentStyle = '';\n    \n    this.defineStyles();\n    this.createModal();\n    this.injectStyles();\n    this.injectModalElements();\n  }\n\n  defineStyles() {\n    this.modalStyle = '.ModalLayer-modal { height: 365px; width: 650px; background-color: #fff; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); padding: 45px; opacity: 0; pointer-events: none; transition: all 300ms ease-in-out; z-index: 1011; }';\n    this.modalStyleVisible = '.ModalLayer-modal-visible { opacity: 1; pointer-events: auto; }';\n    this.modalStyleClose = '.ModalLayer-modal-closeBtn { position: absolute; font-size: 1.2rem; right: -10px; top: -10px; cursor: pointer; background:#F30; padding:5px; font-size:bold; border-radius:50%; }';\n    this.blackedout = '.ModalLayer-blackedout { position: absolute; z-index: 1010; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.65); display: none; }';\n    this.blackedoutVisible = '.ModalLayer-blackedout-visible { display: block; }';\n  }\n\n  createModal() {\n    this.modalHTML = document.createElement('div');\n    this.modalHTML.id = this.modalId;\n    this.modalHTML.dataset.popupModal = 'one';\n    this.modalHTML.classList.add('ModalLayer-modal');\n    this.modalHTML.classList.add('ModalLayer-shadow');\n    this.bodyBlackedout = document.createElement('div');\n    this.bodyBlackedout.classList.add('ModalLayer-blackedout');\n  }\n\n  injectStyles() {\n    let style = document.getElementById('EditContentStyles');\n    if (!style) {\n      style = document.createElement('style');\n      style.setAttribute('id', 'EditContentStyles');\n      style.setAttribute('type', 'text/css');\n      style.innerHTML = this.modalStyle + this.modalStyleVisible + this.blackedout + this.blackedoutVisible;\n      document.getElementsByTagName('head')[0].appendChild(style);\n    }\n  }\n\n  injectModalElements() {\n    document.body.appendChild(this.bodyBlackedout);\n    document.body.appendChild(this.modalHTML);\n    this.modalHTML.attachShadow({mode: 'open'});\n  }\n\n  injectModalContent() {\n    this.modalHTML.shadowRoot.innerHTML = `\n      <style>\n        ${this.modalStyleClose}\n        ${this.contentStyle}\n      </style>\n      <span class=\"ModalLayer-modal-closeBtn\">X</span>\n      <div id=\"ModalLayer-modal-content\">${this.contentModal}</div>\n    `;\n  }\n\n  hideModal() {\n    this.modalHTML.classList.remove('ModalLayer-modal-visible');\n    this.bodyBlackedout.classList.remove('ModalLayer-blackedout-visible');\n    document.querySelector('.ModalLayer-blackedout').removeEventListener('click', this.hideModal);\n    this.modalHTML.shadowRoot.querySelector('.ModalLayer-modal-closeBtn').removeEventListener('click', this.hideModal);\n  }\n\n  openModal() {\n    this.modalHTML.classList.add('ModalLayer-modal-visible');\n    this.bodyBlackedout.classList.add('ModalLayer-blackedout-visible');\n    this.injectModalContent();\n    this.modalHTML.shadowRoot.querySelector('.ModalLayer-modal-closeBtn').addEventListener('click', this.hideModal.bind(this));\n    document.querySelector('.ModalLayer-blackedout').addEventListener('click', this.hideModal.bind(this));\n  }\n}"],"names":["ModalLayer","constructor","modalId","Date","now","contentStyle","defineStyles","createModal","injectStyles","injectModalElements","modalStyle","modalStyleVisible","modalStyleClose","blackedout","blackedoutVisible","modalHTML","document","createElement","id","this","dataset","popupModal","classList","add","bodyBlackedout","style","getElementById","setAttribute","innerHTML","getElementsByTagName","appendChild","body","attachShadow","mode","injectModalContent","shadowRoot","contentModal","hideModal","remove","querySelector","removeEventListener","openModal","addEventListener","bind"],"mappings":"AAAO,MAAMA,EACXC,mBACOC,QAAW,SAAQC,KAAKC,WAExBC,aAAe,QAEfC,oBACAC,mBACAC,oBACAC,sBAGPH,oBACOI,WAAa,gQACbC,kBAAoB,uEACpBC,gBAAkB,yLAClBC,WAAa,uKACbC,kBAAoB,qDAG3BP,mBACOQ,UAAYC,SAASC,cAAc,YACnCF,UAAUG,GAAKC,KAAKjB,aACpBa,UAAUK,QAAQC,WAAa,WAC/BN,UAAUO,UAAUC,IAAI,yBACxBR,UAAUO,UAAUC,IAAI,0BACxBC,eAAiBR,SAASC,cAAc,YACxCO,eAAeF,UAAUC,IAAI,yBAGpCf,mBACMiB,EAAQT,SAASU,eAAe,qBAC/BD,IACHA,EAAQT,SAASC,cAAc,SAC/BQ,EAAME,aAAa,KAAM,qBACzBF,EAAME,aAAa,OAAQ,YAC3BF,EAAMG,UAAYT,KAAKT,WAAaS,KAAKR,kBAAoBQ,KAAKN,WAAaM,KAAKL,kBACpFE,SAASa,qBAAqB,QAAQ,GAAGC,YAAYL,IAIzDhB,sBACEO,SAASe,KAAKD,YAAYX,KAAKK,gBAC/BR,SAASe,KAAKD,YAAYX,KAAKJ,gBAC1BA,UAAUiB,aAAa,CAACC,KAAM,SAGrCC,0BACOnB,UAAUoB,WAAWP,UAAa,4BAEjCT,KAAKP,4BACLO,KAAKd,kIAG4Bc,KAAKiB,2BAI9CC,iBACOtB,UAAUO,UAAUgB,OAAO,iCAC3Bd,eAAeF,UAAUgB,OAAO,iCACrCtB,SAASuB,cAAc,0BAA0BC,oBAAoB,QAASrB,KAAKkB,gBAC9EtB,UAAUoB,WAAWI,cAAc,8BAA8BC,oBAAoB,QAASrB,KAAKkB,WAG1GI,iBACO1B,UAAUO,UAAUC,IAAI,iCACxBC,eAAeF,UAAUC,IAAI,sCAC7BW,0BACAnB,UAAUoB,WAAWI,cAAc,8BAA8BG,iBAAiB,QAASvB,KAAKkB,UAAUM,KAAKxB,OACpHH,SAASuB,cAAc,0BAA0BG,iBAAiB,QAASvB,KAAKkB,UAAUM,KAAKxB"}